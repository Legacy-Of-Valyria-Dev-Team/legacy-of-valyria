zz_valyria_colonisation_random_test = {
	random_list = {
		25 = {
			desc = $ZZ_EVENT_OPTION_NAME$.crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_major
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_major
						scope:activity = { activity_special_type_progression_major  = yes }
					}
				}
				
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		25 = {
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		25 = {
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
						scope:activity = { activity_special_type_progression_tiny  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		25 = {
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_negative
						scope:activity = { activity_special_type_progression_negative  = yes }
					}
				}
			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
}
zz_valyria_colonisation_learning_test = {
	duel = {
		skill = learning
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$.crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}
zz_valyria_colonisation_diplomacy_test = {
	duel = {
		skill = diplomacy
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}
zz_valyria_colonisation_stewardship_test = {
	duel = {
		skill = stewardship
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}
zz_valyria_colonisation_intrigue_test = {
	duel = {
		skill = intrigue
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}
zz_valyria_colonisation_martial_test = {
	duel = {
		skill = stewardship
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}
zz_valyria_colonisation_martial_test = {
	duel = {
		skill = martial
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}

zz_valyria_colonisation_prowess_test = {
	duel = {
		skill = prowess
		value = high_skill_rating
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}			
			desc = $ZZ_EVENT_OPTION_NAME$..crit_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.crit_success
				left_icon = root
				
				custom_tooltip = $ZZ_EVENT_OPTION_NAME$.tt
				
				zz_valyria_colonisation_reward = yes
				
			}
			stress_impact = {
				base = medium_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_medium
				scope:activity = {
					add_activity_log_entry = {
						key = sic_et_non_log
						score = 25
						tags = { good learning activity }
						character = root
		
						#Effect
						custom_tooltip = zz_valyria_colonisation_tt_positive_medium
						scope:activity = { activity_special_type_progression_medium  = yes }
					}
				}
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		20 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = 3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.small_success.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.small_success
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_positive_tiny
				scope:activity = { activity_special_type_progression_tiny  = yes }
			}
			stress_impact = {
				base = minor_stress_impact_loss
			}
		}
		40 = {
			compare_modifier = {
				value = scope:duel_value
				multiplier = -3.5
				min = -49
			}
			desc = $ZZ_EVENT_OPTION_NAME$.failure.tt
			send_interface_toast = {
				title = $ZZ_EVENT_OPTION_NAME$.failure
				left_icon = root
				custom_tooltip = zz_valyria_colonisation_tt_negative
				scope:activity = { activity_special_type_progression_negative = yes }

			}
			stress_impact = {
				base = medium_stress_impact_gain
			}
		}
	}
	remove_character_flag = $ZZ_EVENT_OPTION_NAME$
}

zz_valyria_colonisation_reward = {
	switch = {
		trigger = has_character_flag
		zz_valyria_colonisation.0020.a = {
			custom_tooltip = zz_valyria_colonisation_tt_positive_massive
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0020.b = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0020.c = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0020.d = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0020.e = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0030.a = {
			custom_tooltip = zz_valyria_colonisation_tt_positive_massive
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0030.b = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0030.c = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0030.d = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0030.e = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0040.a = {
			custom_tooltip = zz_valyria_colonisation_tt_positive_massive
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0040.b = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0040.c = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0040.d = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0040.e = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0050.a = {
			custom_tooltip = zz_valyria_colonisation_tt_positive_massive
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0050.b = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0050.c = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0050.d = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
		zz_valyria_colonisation.0050.e = {
			scope:activity = {
				add_activity_log_entry = {
					key = sic_et_non_log
					score = 25
					tags = { good learning activity }
					character = root
	
					#Effect
					custom_tooltip = zz_valyria_colonisation_tt_positive_massive
					scope:activity = { activity_special_type_progression_massive = yes }
				}
			}
		}
	}
}

resolve_valyria_colonisation_success_reward_effect = {
	involved_activity ?= {
		#Perfect colonisation - 75-100
		if = {
			limit = { var:activity_special_type_progression >= 75 }
			scope:host = {
				add_character_flag = perfect_colonisation_reward
			}
		}
		#High-end colonisation - 50-75
		else_if = {
			limit = { 
				var:activity_special_type_progression < 75
				var:activity_special_type_progression >= 50
			} 
			scope:host = {
				add_character_flag = high_colonisation_reward
			}
		}
		#OK colonisation - 25-50
		else_if = {
			limit = {
				var:activity_special_type_progression < 50
				var:activity_special_type_progression >= 25
			}
			scope:host = {
				add_character_flag = mid_colonisation_reward
			}
		}
		#Lousy colonisation - 0-25
		else = {
			scope:host = {
				add_character_flag = low_colonisation_reward
			}
		}
	}
}



valyria_colonisation_completed_log_entry_effect = {
	involved_activity = {
		add_activity_log_entry = {
			key = valyria_colonisation_studies_completed_log
			tags = { completed }
			score = 100
			show_in_conclusion = yes
			character = root
			#Effects
			root = {
				disburse_valyria_colonisation_reward_effect = yes
			}
		}
	}
}


zz_valyria_colonise_claim_titles = { 
	if = { 
		limit = { 
			is_landless_adventurer = no
		}
		get_title = scope:province.county
	}
	else_if = { 
		limit = { 
			is_landless_adventurer = yes
		}
		scope:province.county = { add_to_list = seized_titles }
		
		# Resolve title, liege, government changes
		ep3_become_landed_transfer_effect = {
			TITLE_RECEIVER = scope:host 
			TITLE_LIST = seized_titles
			TYPE = conquest
			REASON = flag:conquest 
		}
	}
	scope:province.county = { 
		set_county_faith = scope:host.faith
		set_county_culture = scope:host.culture
	}
	if = {
		limit = { this = scope:host }
		create_character_memory = {
			type = completed_colonisation
		}
		scope:new_memory = {
			set_variable = {
				name = education_destination
				value = scope:activity.activity_location
			}
		}
	}
}


disburse_valyria_colonisation_reward_effect = {

	switch = { # Hand out lifestyle perks/xp
		trigger = has_character_flag
		perfect_colonisation_reward = { 
			agot_create_random_dragon_egg_artifact = { OWNER = scope:host } 
			zz_valyria_colonise_claim_titles = yes
			remove_character_flag = perfect_colonisation_reward
		}
		high_colonisation_reward = { 
			zz_valyria_colonise_claim_titles = yes
			remove_character_flag = high_colonisation_reward
		}
		mid_colonisation_reward = { 
			agot_create_random_dragon_egg_artifact = { OWNER = scope:host } 
			remove_character_flag = mid_colonisation_reward
		}
		low_colonisation_reward = { 
			remove_character_flag = low_colonisation_reward
		}
	}
	# Options rewards
}
