zz_valyria_magic_potency_learning_modifier = { 
	scope:secondary_actor = { 
		value = { 
			value = learning 
			multiply = 20
			desc = zz_valyria_magic_potency_learning_modifier_desc
			format = "zz_valyria_magic_potency_learning_modifier_format"
		}
	}
}
zz_valyria_magic_potency_secret_knowledge = {
	scope:secondary_actor = { 
		value = 500
		add = zz_valyria_magic_potency_learning_modifier
		multiply = zz_valyria_magic_zz_magister_secrets_modifier
	}
}

zz_valyria_magic_zz_magister_secrets_modifier = {
	value = 1
	if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 100
			}
		}
		multiply = 16 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >=75
			}
		}
		multiply = 8 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 49
			}
		}
		multiply = 4 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 24
			}
		}
		multiply = 2 
	}
}

zz_spend_mana  = { 
	value = var:manacost
	multiply = -1 
}

zz_valyria_d10 = {
	value = 0 
	add = { 1 10 }
}

zz_valyria_d100 = { 
	value = 0 
	add = { 1 100 }
}


zz_spell_cast_learning_modifier = { 
	scope:secondary_actor = { 
		value = { 
			value = learning 
		}
	}
}
zz_spellcast_value = { 
	value = { 0 100 }
	add = learning
	add  = "has_trait_xp(zz_magister|secrets_of_the_higher_mysteries)"
	add  = "has_trait_xp(born_under_a_red_comet|chosen_of_the_heavens)"
}

zz_chosen_of_heavens_modifier = {
	value = "has_trait_xp(born_under_a_red_comet|chosen_of_the_heavens)"
}
zz_blood_magic_scaling_value = { 
	value  = "has_trait_xp(zz_magister|blood_magic)"
}

zz_alchemy_magic_scaling_value = { 
	value  = "has_trait_xp(zz_magister|alchemy_magic)"
}

zz_alchemy_magic_scaling_build_speed_value = { 
	value  = "has_trait_xp(zz_magister|alchemy_magic)"
	multiply = 0.01
	multiply = -1
}


zz_fire_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|fire_magic)"
}
zz_water_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|water_magic)"
}

zz_air_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|air_magic)"
}

zz_valyria_magic_air_magic_02_mysteries_of_the_tempestuous_winds_value = {
	value = -20 
	multiply = {
		scope:secondary_actor = {
			value = zz_air_damage_scaling_value 
		}
	}	
}


zz_blood_healing_scaling_value = { 
	value  = "has_trait_xp(zz_magister|blood_magic)"
}

zz_blood_heal_spell_1_scaling_value = { 
	value  = "has_trait_xp(zz_magister|blood_magic)"
	divide = 10
	add = 1
}



zz_shadow_magic_duration_scaling_value = { 
	value = 1
	add  = "has_trait_xp(zz_magister|shadow_magic)"
}


