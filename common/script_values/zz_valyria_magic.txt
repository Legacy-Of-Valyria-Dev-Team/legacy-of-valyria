zz_valyria_crafting_alchemy = {
	value  = "has_trait_xp(zz_magister|alchemy_magic)"
	add = "has_trait_xp(zz_magister|secrets_of_the_higher_mysteries)"
}

zz_valyria_crafting_learning = {
	value = learning 
}


zz_valyria_magic_blood_magic_01_mysteries_of_restoration_value = { 
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
			divide = 20
		}
	}
}


zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
			divide = 25
		}
	}
}
zz_valyria_magic_blood_magic_03_mysteries_of_regeneration_value = {
	value = 50 
	add = {
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
			multiply = 3
		}
	}
}
zz_valyria_magic_blood_magic_04_mysteries_of_renewal_value = {
	value = 50
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
		}
	}
}

zz_valyria_magic_blood_magic_05_mysteries_of_replication_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
		}
	}
}

zz_valyria_magic_blood_magic_06_mysteries_of_draconic_rejuvenation_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
		}
	}
}

zz_valyria_magic_blood_magic_07_mysteries_of_enchanted_blood_value = { 
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
			divide = 2
		}
	}
}

zz_valyria_magic_blood_magic_09_mysteries_of_draconic_enhancement_value = {
	value = 5
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
			divide = 5
		}
	}
}

zz_valyria_magic_blood_magic_10_mysteries_of_draconic_blood_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
		}
	}
}

zz_valyria_magic_blood_magic_11_mysteries_of_longevity_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|blood_magic)"
		}
	}
}

zz_valyria_magic_alchemy_magic_01_mysteries_of_growth_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 5
		}
	}
}

zz_valyria_magic_alchemy_magic_02_mysteries_of_construction_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 5
		}
	}
}


zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation_option_01 = {
	value = 100
	add = {
		scope:secondary_actor = {  
			value = learning 
			add = "has_trait_xp(zz_magister|alchemy_magic)"
			multiply = 2
		}
	}
}
zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation_option_02 = {
	value = 100
	add = { 
		scope:secondary_actor = { 
			value = learning 
			add = "has_trait_xp(zz_magister|alchemy_magic)"
			multiply = 2
		}
	}
}
zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation_option_03 = {
	value = 100
	add = { 
		scope:secondary_actor = { 
			value = learning 
			add = "has_trait_xp(zz_magister|alchemy_magic)"
			multiply = 2
		}
	}
}
zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation_option_04 = {
	value = 100
	add = { 
		scope:secondary_actor = { 
			value = learning 
			add = "has_trait_xp(zz_magister|alchemy_magic)"
			multiply = 2
		}
	}
}

zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_01_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 25
		}
	}
}
zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_02_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 20
		}
	}
}
zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_03_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 10
		}
	}
}
zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_04_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 10
		}
	}
}
zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_05_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 10
		}
	}
}
zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_option_06_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 10
		}
	}
}


zz_valyria_magic_alchemy_magic_05_mysteries_of_realm_fortification_option_01_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 10
		}
	}
}
zz_valyria_magic_alchemy_magic_05_mysteries_of_realm_fortification_option_02_value = {
	value = 1
	add = { 
		scope:secondary_actor = { 
			value = "has_trait_xp(zz_magister|alchemy_magic)"
			divide = 5
		}
	}
}

zz_valyria_magic_potency_learning_modifier = { 
	scope:secondary_actor = { 
		value = { 
			value = learning 
			multiply = 20
			desc = zz_valyria_magic_potency_learning_modifier_desc
			format = "zz_valyria_magic_potency_learning_modifier_format"
		}
	}
}
zz_valyria_magic_potency_secret_knowledge = {
	scope:secondary_actor = { 
		value = 500
		add = zz_valyria_magic_potency_learning_modifier
		multiply = zz_valyria_magic_zz_magister_secrets_modifier
	}
}

zz_valyria_magic_zz_magister_secrets_modifier = {
	value = 1
	if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 100
			}
		}
		multiply = 16 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >=75
			}
		}
		multiply = 8 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 49
			}
		}
		multiply = 4 
	}
	else_if = {
		limit = {
			has_trait = zz_magister
			has_trait_xp = {
				trait = zz_magister
				track = secrets_of_the_higher_mysteries
				value >= 24
			}
		}
		multiply = 2 
	}
}

zz_spend_mana  = { 
	value = var:manacost
	multiply = -1 
}

zz_valyria_d10 = {
	value = 0 
	add = { 1 10 }
}

zz_valyria_d100 = { 
	value = 0 
	add = { 1 100 }
}


zz_spell_cast_learning_modifier = { 
	scope:secondary_actor = { 
		value = { 
			value = learning 
		}
	}
}

zz_mage_power_value = { 
	value = { 
		add  = "has_trait_xp(zz_magister|secrets_of_the_higher_mysteries)"
		multiply = 0.25
	}
	add = 5
}
zz_spellcast_value = { 
	value = 0
	scope:secondary_actor = { 
		add = learning
		add  = {
			value = "has_trait_xp(zz_magister|secrets_of_the_higher_mysteries)"
			multiply = 2
		}
		add  = {
			value = "has_trait_xp(born_under_a_red_comet|chosen_of_the_heavens)"
			multiply = 3
		}
	}
}

zz_chosen_of_heavens_modifier = {
	value = "has_trait_xp(born_under_a_red_comet|chosen_of_the_heavens)"
}
zz_blood_magic_scaling_value = { 
	value  = "has_trait_xp(zz_magister|blood_magic)"
}

zz_alchemy_magic_scaling_value = { 
	value  = "has_trait_xp(zz_magister|alchemy_magic)"
}

zz_alchemy_magic_scaling_build_speed_value = { 
	value  = "has_trait_xp(zz_magister|alchemy_magic)"
	multiply = 0.01
	multiply = -1
}


zz_fire_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|fire_magic)"
}
zz_water_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|water_magic)"
}

zz_air_damage_scaling_value = { 
	value  = "has_trait_xp(zz_magister|air_magic)"
}

zz_valyria_magic_air_magic_02_mysteries_of_the_tempestuous_winds_value = {
	value = -20 
	multiply = {
		scope:secondary_actor = {
			value = zz_air_damage_scaling_value 
		}
	}	
}






zz_shadow_magic_duration_scaling_value = { 
	value = 1
	add  = "has_trait_xp(zz_magister|shadow_magic)"
}


