
namespace = zz_valyria_magic

#You read a book of magic. 
zz_valyria_magic.90000 = {
	type = character_event
	title = zz_valyria_magic.90000.t
	desc = zz_valyria_magic.90000.desc
	theme = university
	left_portrait = root


	immediate = {
	}

	trigger = {
		is_ai = no 
		NOT = { 
			has_character_flag = no_magic
		}
	}

	option = {
		name = zz_valyria_magic.90000.a
		custom_tooltip = {
			text = zz_valyira_magic_youre_a_wizard_harry

			if = {
				limit = {
					has_trait = zz_magister
				}
				zz_valyria_gain_spell_experience = {
					XPGAIN = 10 
					XPTRACK = secrets_of_the_higher_mysteries
				}
				zz_random_gain_magic_spell = yes 
			}
			else = {
				add_trait_force_tooltip = zz_nagister
			}
			zz_random_gain_magic_spell = yes 
		}
	}
	option = {
		name = zz_valyria_magic.90000.b
		custom_tooltip = {
			text = burn_you_witch
			add_character_flag = no_magic
		}
	}
}


zz_valyria_magic.1 = {
	hidden = yes
	scope = none
	trigger = {
	}
	immediate = {
		every_ruler = {
			limit = {
				has_trait = zz_magister
			}
			send_interface_toast = {
				if = { 
					limit = { 
						has_trait = born_under_a_red_comet
					}
					add_trait_xp = {
						trait = born_under_a_red_comet
						track = chosen_of_the_heavens
						value = 100
					}
				}
				zz_random_gain_magic_spell = yes 
		
				#dragon training
				#add_character_flag = dragon_training
		
				#charm magic 
				#add_character_flag = mental_domination_spell_flag
				#shadow magic
				
				#blood magic
				#add_character_flag = genetic_manipulation_spell_flag
				#add_character_flag = healing_spell_flag
				
				#Alchemical Magic
				#add_character_flag = empowerment_of_arms_spell_flag
				#add_character_flag = building_speed_spell_flag
				#add_character_flag = development_boost_spell_flag
				#add_character_flag = transmutation_spell_flag
				
				#Divination Magic
				#add_character_flag = dreaming_within_spell_flag
				#add_character_flag = secrets_of_dreams_spell_flag
				#add_character_flag = dreams_of_experience_spell_flag
		
				#flame magic 
				#add_character_flag = flame_strike_spell_flag
			}
		}
	}
}
