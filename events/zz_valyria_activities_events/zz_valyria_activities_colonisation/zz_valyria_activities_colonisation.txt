namespace = zz_valyria_colonisation

# INVALIDATION - PRISON
zz_valyria_colonisation.0005 = {
	type = character_event
	title = zz_valyria_colonisation.0005.t
	desc = zz_valyria_colonisation.0005.desc
	theme = prison

	left_portrait = {
		character = root
		animation = prisonhouse
	}

	immediate = {
		imprisoner ?= {
			save_scope_as = jailor
		}
		create_character_memory = {
			type = imprisoned_adult_education
			participants = {
				jailor = scope:jailor
			}
		}
	}

	option = {
		name = zz_valyria_colonisation.0005.a
	}
}



# CONCLUSION EVENT
zz_valyria_colonisation.0009 = {
	type = activity_event
	title = zz_valyria_colonisation.0009.t
	desc = {
		first_valid = {
			triggered_desc = {
				trigger = { scope:host = { has_character_flag = perfect_reward } }
				desc = zz_valyria_colonisation.0009.desc_perfect_reward
			}
			triggered_desc = {
				trigger = { scope:host = { has_character_flag = high_reward } }
				desc = zz_valyria_colonisation.0009.desc_high_reward
			}
			triggered_desc = {
				trigger = { scope:host = { has_character_flag = ok_reward } }
				desc = zz_valyria_colonisation.0009.desc_ok_reward
			}
		}
	}
	theme = default

	center_portrait = {
		character = root
		animation = thinking
	}

	immediate = {
		#Reward effects
		valyria_colonisation_completed_log_entry_effect = yes
		involved_activity ?= {
			#Perfect colonisation - 75-100
			if = {
				limit = { var:activity_special_type_progression >= 75 }
				scope:host = {
					add_character_flag = perfect_reward
				}
			}
			#High-end colonisation - 50-75
			else_if = {
				limit = { 
					var:activity_special_type_progression < 75
					var:activity_special_type_progression >= 50
				} 
				scope:host = {
					add_character_flag = high_reward
				}
			}
			#OK colonisation - 25-50
			else_if = {
				limit = {
					var:activity_special_type_progression < 50
					var:activity_special_type_progression >= 25
				}
				scope:host = {
					add_character_flag = ok_reward
				}
			}
		}
	}
	
	option = {
		name = zz_valyria_colonisation.0009.a
		trigger = {
			has_character_flag = perfect_reward
		}
		custom_tooltip = zz_valyria_colonisation.0009.perfect_reward
		hidden_effect = {
			agot_create_random_dragon_egg_artifact = { OWNER = scope:host } 
			scope:activity = {
				add_to_variable_list = {
					name = artifact_rewards
					target = scope:newly_created_artifact
				}
			}
		}

		ai_chance = {
			base = 100
		}
	}
	option = {
		name = zz_valyria_colonisation.0009.b
		trigger = {
			has_character_flag = high_reward
		}
		custom_tooltip = zz_valyria_colonisation.0009.high_reward
		hidden_effect = {
			add_gold = 200
		}
		
		ai_chance = {
			base = 100
		}
	}
	option = {
		name = zz_valyria_colonisation.0009.c
		trigger = {
			has_character_flag = ok_reward
		}
		add_gold = 300
		ai_chance = {
			base = 100
		}
	}
	after = {
		hidden_effect = {
			remove_character_flag = perfect_reward
			remove_character_flag = high_reward
			remove_character_flag = ok_reward
		}
	}
}

## ARRIVAL EVENTS
zz_valyria_colonisation.0010 = {
	type = activity_event
	title = zz_valyria_colonisation.0010.t
	desc = {
		first_valid = {
			desc = zz_valyria_colonisation.0010.desc_begin
		}
		triggered_desc = {
			trigger = {
				"scope:host.capital_province.squared_distance(scope:location)" >= squared_distance_massive
			}
			desc = zz_valyria_colonisation.0010.desc_very_very_far
		}
		desc = zz_valyria_colonisation.0010.desc_end
		
	}
	theme = university

	center_portrait = {
		character = root
		animation = happy_teacher
	}

	immediate = {
		scope:activity.activity_location = { save_scope_as = location }
	}

	option = {
		name = zz_valyria_colonisation.0010.a
	}
}

## base loop 

# shortage of supplies
zz_valyria_colonisation.0030 = {
	type = activity_event
	title = zz_valyria_colonisation.0030.t
	desc = zz_valyria_colonisation.0030.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { months = 9 }

	trigger = {
		has_character_flag = colonisation_foundation
	}

	weight_multiplier = {
	}

	immediate = {
		scope:activity = {
			activity_location = { save_scope_as = location }
		}
		root = { save_scope_as = book_creator }
	}

	# Option A: Use your learning ability to try and establish a sound foundation
	option = {
		name = zz_valyria_colonisation.0030.a
		trigger = {
			scope:host = {learning > 20}
		}
		add_character_flag = zz_valyria_colonisation.0030.a
		zz_valyria_colonisation_skill_test = {
			SKILL = learning 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.a
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option B: Use your stewardship to focus on logistical management to support your progress
	option = {
		name = zz_valyria_colonisation.0030.b
		trigger = {
			scope:host = {stewardship > 20}
		}
		add_character_flag = zz_valyria_colonisation.0030.b
		zz_valyria_colonisation_skill_test = {
			SKILL = stewardship 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.b
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option C: Use diplomacy to ensure regular supplies of resources will be forthcoming
	option = {
		name = zz_valyria_colonisation.0030.c
		trigger = {
			scope:host = {diplomacy > 20}
		}
		add_character_flag = zz_valyria_colonisation.0030.c
		zz_valyria_colonisation_skill_test = {
			SKILL = diplomacy 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.c
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option D: Use Martial to order your forces to ensure strict discipline and prevent a collapse into anarchy 
	option = {
		name = zz_valyria_colonisation.0030.d
		trigger = {
			scope:host = {martial > 20}
		}
		add_character_flag = zz_valyria_colonisation.0030.d
		zz_valyria_colonisation_skill_test = {
			SKILL = martial 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.d
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option E: Use your intrigue to create a climate of fear and suspicion, ensuring that your colonists will strictly obey
	option = {
		name = zz_valyria_colonisation.0030.e
		trigger = {
			scope:host = {intrigue > 20}
		}
		add_character_flag = zz_valyria_colonisation.0030.e
		zz_valyria_colonisation_skill_test = {
			SKILL = intrigue 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.e
		}
		
		ai_chance = {
			base = 100
		}
	}

	# Option Z: muddle through, a 25% chance of major, medium, tiny, negative progress
	option = {
		name = zz_valyria_colonisation.0030.z
		zz_valyria_colonisation_random_test = {
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0030.z
		}
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}

## hostile wildlife
zz_valyria_colonisation.0040 = {
	type = activity_event
	title = zz_valyria_colonisation.0040.t
	desc = zz_valyria_colonisation.0040.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { months = 9 }

	trigger = {
		has_character_flag = colonisation_foundation
	}
	immediate = {
		scope:activity.activity_location = { save_scope_as = location }
	}

	weight_multiplier = {
	}

	# Option A: Use your learning ability to try and establish a sound foundation
	option = {
		name = zz_valyria_colonisation.0040.a
		trigger = {
			scope:host = {learning > 20}
		}
		add_character_flag = zz_valyria_colonisation.0040.a
		zz_valyria_colonisation_skill_test = {
			SKILL = learning 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.a
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option B: Use your stewardship to focus on logistical management to support your progress
	option = {
		name = zz_valyria_colonisation.0040.b
		trigger = {
			scope:host = {stewardship > 20}
		}
		add_character_flag = zz_valyria_colonisation.0040.b
		zz_valyria_colonisation_skill_test = {
			SKILL = stewardship 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.b
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option C: Use diplomacy to ensure regular supplies of resources will be forthcoming
	option = {
		name = zz_valyria_colonisation.0040.c
		trigger = {
			scope:host = {diplomacy > 20}
		}
		add_character_flag = zz_valyria_colonisation.0040.c
		zz_valyria_colonisation_skill_test = {
			SKILL = diplomacy 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.c
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option D: Use Martial to order your forces to ensure strict discipline and prevent a collapse into anarchy 
	option = {
		name = zz_valyria_colonisation.0040.d
		trigger = {
			scope:host = {martial > 20}
		}
		add_character_flag = zz_valyria_colonisation.0040.d
		zz_valyria_colonisation_skill_test = {
			SKILL = martial 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.d
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option E: Use your intrigue to create a climate of fear and suspicion, ensuring that your colonists will strictly obey
	option = {
		name = zz_valyria_colonisation.0040.e
		trigger = {
			scope:host = {intrigue > 20}
		}
		add_character_flag = zz_valyria_colonisation.0040.e
		zz_valyria_colonisation_skill_test = {
			SKILL = intrigue 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.e
		}
		
		ai_chance = {
			base = 100
		}
	}

	# Option Z: muddle through, a 25% chance of major, medium, tiny, negative progress
	option = {
		name = zz_valyria_colonisation.0040.z
		zz_valyria_colonisation_random_test = {
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0040.z
		}
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}

## muntinous settlers
zz_valyria_colonisation.0050 = {
	type = activity_event
	title = zz_valyria_colonisation.0050.t
	desc = zz_valyria_colonisation.0050.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { months = 9 }

	trigger = {
		has_character_flag = colonisation_foundation
	}
	immediate = {
		scope:activity.activity_location = { save_scope_as = location }
	}

	weight_multiplier = {
	}
	
	# Option A: Use your learning ability to try and establish a sound foundation
	option = {
		name = zz_valyria_colonisation.0050.a
		trigger = {
			scope:host = {learning > 20}
		}
		add_character_flag = zz_valyria_colonisation.0050.a
		zz_valyria_colonisation_skill_test = {
			SKILL = learning 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.a
		}

		
		ai_chance = {
			base = 100
		}
	}
	# Option B: Use your stewardship to focus on logistical management to support your progress
	option = {
		name = zz_valyria_colonisation.0050.b
		trigger = {
			scope:host = {stewardship > 20}
		}
		add_character_flag = zz_valyria_colonisation.0050.b
		zz_valyria_colonisation_skill_test = {
			SKILL = stewardship
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.b
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option C: Use diplomacy to ensure regular supplies of resources will be forthcoming
	option = {
		name = zz_valyria_colonisation.0050.c
		trigger = {
			scope:host = {diplomacy > 20}
		}
		add_character_flag = zz_valyria_colonisation.0050.c
		zz_valyria_colonisation_skill_test = {
			SKILL = diplomacy
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.c
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option D: Use Martial to order your forces to ensure strict discipline and prevent a collapse into anarchy 
	option = {
		name = zz_valyria_colonisation.0050.d
		trigger = {
			scope:host = {martial > 20}
		}
		add_character_flag = zz_valyria_colonisation.0050.d
		zz_valyria_colonisation_skill_test = {
			SKILL = martial 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.d
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option E: Use your intrigue to create a climate of fear and suspicion, ensuring that your colonists will strictly obey
	option = {
		name = zz_valyria_colonisation.0050.e
		trigger = {
			scope:host = {intrigue > 20}
		}
		add_character_flag = zz_valyria_colonisation.0050.e
		zz_valyria_colonisation_skill_test = {
			SKILL = intrigue 
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.e
		}
		
		ai_chance = {
			base = 100
		}
	}

	# Option Z: muddle through, a 25% chance of major, medium, tiny, negative progress
	option = {
		name = zz_valyria_colonisation.0050.z
		zz_valyria_colonisation_random_test = {
			ZZ_EVENT_OPTION_NAME = zz_valyria_colonisation.0050.z
		}
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}


## Destination Events

## Progress Event Learning - Catalog Flora and Fauna
zz_valyria_colonisation.0100 = {
	type = activity_event
	title = zz_valyria_colonisation.0100.t
	desc = zz_valyria_colonisation.0100.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { years = 1 }

	trigger = {
		always = yes
	}

	weight_multiplier = {
		base = 1
		modifier = {
			has_trait = theologian
			add = 2
		}
		modifier = {
			has_trait = scholar
			add = 1
		}
	}

	immediate = {
		scope:activity = {
			activity_location = { save_scope_as = location }
		}
		root = { save_scope_as = book_creator }
	}

	# Option A: Study hard intent: think and try to resolve the questions
	option = {
		name = zz_valyria_colonisation.0100.a
		trigger = {
		}
		duel = {
			skill = learning
			value = high_skill_rating
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0100.a.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.0100.a.crit_success.tt
					left_icon = root
					
					#custom_tooltip = zz_valyria_colonisation.0100.a.tt
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							custom_tooltip = zz_valyria_colonisation_tt_positive_major
							scope:activity = { activity_special_type_progression_major = yes }
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0100.a.success
				send_interface_toast = {
					title = zz_valyria_colonisation.0100.a.success.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_positive_major
					scope:activity = { activity_special_type_progression_major = yes }
				}
				stress_impact = {
					base = minor_stress_impact_loss
				}
			}
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0100.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.0100.a.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}


	# Option C: opt-out
	option = {
		name = zz_valyria_colonisation.0100.c
		stress_impact = {
			base = medium_stress_impact_loss
		}
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}

## Progress Event Intrigue - Scouting
zz_valyria_colonisation.0400 = {
	type = activity_event
	title = zz_valyria_colonisation.0400.t
	desc = zz_valyria_colonisation.0400.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { years = 1 }

	trigger = {
		always = yes
	}

	weight_multiplier = {
		base = 1
		modifier = {
			has_trait = theologian
			add = 2
		}
		modifier = {
			has_trait = scholar
			add = 1
		}
	}

	immediate = {
		scope:activity = {
			activity_location = { save_scope_as = location }
		}
		root = { save_scope_as = book_creator }
	}

	# Option A: Study hard intent: think and try to resolve the questions
	option = {
		name = zz_valyria_colonisation.0400.a
		trigger = {
		}
		duel = {
			skill = intrigue
			value = high_skill_rating
			30 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0400.a.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.0400.a.crit_success.tt
					left_icon = root
					
					custom_tooltip = zz_valyria_colonisation.0400.a.tt
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							custom_tooltip = zz_valyria_colonisation_tt_positive_major
							scope:activity = { activity_special_type_progression_major = yes }
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0400.a.success
				send_interface_toast = {
					title = zz_valyria_colonisation.0400.a.success.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_positive_major
					scope:activity = { activity_special_type_progression_major = yes }
				}
				stress_impact = {
					base = minor_stress_impact_loss
				}
			}
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.0400.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.0400.a.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}


	# Option C: opt-out
	option = {
		name = zz_valyria_colonisation.0400.c
		remove_short_term_gold = {
			gold = {
				value = root.medium_gold_min_value
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}

## Chamber of Treasures
zz_valyria_colonisation.4000 = {
	type = activity_event
	title = zz_valyria_colonisation.4000.t
	desc = zz_valyria_colonisation.4000.desc
	theme = university

	center_portrait = {
		character = root
		animation = personality_rational
	}

	cooldown = { years = 10 }

	trigger = {
		always = yes
	}

	weight_multiplier = {
		base = 1
		modifier = {
			has_trait = theologian
			add = 2
		}
		modifier = {
			has_trait = scholar
			add = 1
		}
	}

	immediate = {
		scope:activity = {
			activity_location = { save_scope_as = location }
		}
	}

	# Option A: Purple Glass Candle 
	option = {
		name = zz_valyria_colonisation.4000.a
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.a.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.a.tt
					agot_create_artifact_glass_candle_effect = { OWNER = scope:host  COLOR = purple }
					
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					}
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.a.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	# Option B: Valyrian Sword
	option = {
		name = zz_valyria_colonisation.4000.b
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.b.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.b.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.b.tt
					agot_create_artifact_vs_valyrian_longsword_silver_effect = { OWNER = scope:host } 
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					}
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.1060.a.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	#Option C: Valyrian Sword Gold 
	option = {
		name = zz_valyria_colonisation.4000.c
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.c.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.c.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.c.tt
					agot_create_artifact_vs_valyrian_longsword_gold_effect = { OWNER = scope:host } 
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					}
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.c.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	#Option D: Valyrian Sword Arming 
	option = {
		name = zz_valyria_colonisation.4000.d
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.d.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.d.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.d.tt
					agot_create_artifact_vs_valyrian_armingsword_silver_effect = { OWNER = scope:host } 
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					}
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.d.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	#Option E: Valyrian Sword Arming Gold 
	option = {
		name = zz_valyria_colonisation.4000.e
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.e.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.e.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.e.tt
					agot_create_artifact_vs_valyrian_armingsword_gold_effect = { OWNER = scope:host }
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					} 
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.e.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	#Option F: Valyrian Armour 
	option = {
		name = zz_valyria_colonisation.4000.f
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			25 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.f.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.f.crit_success.tt
					left_icon = root
					#custom_tooltip = zz_valyria_colonisation.4000.f.tt
					agot_create_artifact_valyrian_steel_armor_effect = { OWNER = scope:host } 
					scope:activity = {
						add_to_variable_list = {
							name = artifact_rewards
							target = scope:newly_created_artifact
						}
					}
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			75 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.f.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.f.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
					
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}
	#Option G: Dragon Eggs
	option = {
		name = zz_valyria_colonisation.4000.g
		trigger = {
		}
		duel = {
			skill = prowess
			value = high_skill_rating
			35 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = 3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.g.crit_success
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.g.crit_success.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation.4000.g.tt
					hidden_effect = {
						agot_create_random_dragon_egg_artifact = { OWNER = scope:host }
						scope:activity = {
							add_to_variable_list = {
								name = artifact_rewards
								target = scope:newly_created_artifact
							}
						}
					}
					
					scope:activity = {
						add_activity_log_entry = {
							key = sic_et_non_log
							score = 25
							tags = { good learning activity }
							character = root
			
							#Effect
							hidden_effect = {
								custom_tooltip = zz_valyria_colonisation_tt_positive_major
								scope:activity = { activity_special_type_progression_major = yes }
							}
							
						}
					}
				}
				stress_impact = {
					base = medium_stress_impact_loss
				}
			}
			65 = {
				compare_modifier = {
					value = scope:duel_value
					multiplier = -3.5
					min = -49
				}
				desc = zz_valyria_colonisation.4000.a.failure
				send_interface_toast = {
					title = zz_valyria_colonisation.4000.g.failure.tt
					left_icon = root
					custom_tooltip = zz_valyria_colonisation_tt_negative
					scope:activity = { activity_special_type_progression_negative = yes }
				}
				stress_impact = {
					base = medium_stress_impact_gain
				}
			}
		}
		
		ai_chance = {
			base = 100
		}
	}


	# Option D: opt-out
	option = {
		name = zz_valyria_colonisation.4000.z
		stress_impact = {
			base = medium_stress_impact_loss
		}
		custom_tooltip = zz_valyria_colonisation_tt_positive_massive
		scope:activity = { activity_special_type_progression_massive = yes }
		ai_chance = {
			base = 50
			modifier = {
				has_trait = lazy
				add = 100
			}
			modifier = {
				has_trait = intellect_bad
				add = 100
			}
			modifier = {
				has_trait = dull
				add = 100
			}
		}
	}
}

#fake targaryen
zz_valyria_colonisation.4101 = {
	type = character_event
	title = zz_valyria_colonisation.4101.t
	desc = zz_valyria_colonisation.4101.desc
	theme = default

	left_portrait = {
		character = root
		animation = idle
	}

	right_portrait = {
		character = scope:cv_fake_targ
		animation = personality_bold
	}


	trigger = {
		location = { geographical_region = world_valyria }
	}

	immediate = {
		create_character = {
			name = "Aegon"
			gender = male
			culture = culture:high_valyrian
			faith = faith:valyrian
			age = 20
			dynasty_house = house:house_Targeryon

			random_traits = yes

			martial = 10
			diplomacy = 3
			intrigue = 3
			stewardship = 4
			learning = 4
			prowess = 6

			trait = ambitious
			trait = intellect_bad_2
			trait = lunatic_1

			save_scope_as = cv_fake_targ
		}

		hidden_effect = {
			scope:cv_fake_targ = {
				random = {
					chance = 5
					agot_create_artifact_vs_valyrian_armingsword_silver_effect = { OWNER = scope:cv_fake_targ }
				}
			}
		}
	}


	option = { #throw him in the dungeons
		name = zz_valyria_colonisation.4101.a
		random_list = {
			70 = { #he is caught
				trigger_event = zz_valyria_colonisation.4102
			}
			30 = { #he escapes
				hidden_effect = {
					scope:cv_fake_targ = {
						death = {
							death_reason = death_vanished
						}
					}
				}
			}
		}
	}
	option = { #antagonize
		name = zz_valyria_colonisation.4101.c
		effect = {
			random_list = {
				40 = { #he duels you
					trigger_event = zz_valyria_colonisation.4102 
				}
				60 = { #he flees
					hidden_effect = {
						scope:cv_fake_targ = {
							death = {
								death_reason = death_vanished
							}
						}
					}
				}
			}
		}
	}

}

zz_valyria_colonisation.4102 = { #he gets jailed
	type = character_event
	title = zz_valyria_colonisation.4102.t
	desc = zz_valyria_colonisation.4102.desc
	theme = martial

	left_portrait = {
		character = root
		animation = happiness
	}

	right_portrait = {
		character = scope:cv_fake_targ
		animation = prisondungeon
	}

	option = {
		name = zz_valyria_colonisation.4102.a
		hard_imprison_character_effect = { #imprisons him
		TARGET = scope:cv_fake_targ
		IMPRISONER = root
		}
	}
}

zz_valyria_colonisation.4103 = { #he wants to duel
	type = character_event
	title = zz_valyria_colonisation.4103.t
	desc = zz_valyria_colonisation.4103.desc
	theme = martial

	left_portrait = {
		character = root
		animation = idle
	}

	right_portrait = {
		character = scope:cv_fake_targ
		animation = aggressive_sword
	}

	option = { #duel #Zarat could you finish the duel pls pls pls 
		name = zz_valyria_colonisation.4103.b
		root = {
			duel = {
				skill = prowess
				target = scope:cv_fake_targ
			}
		}
	}
	option = { #you flee
		name = zz_valyria_colonisation.4103.c

	}
}