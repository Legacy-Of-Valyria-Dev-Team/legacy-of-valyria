namespace = gogossos_expedition

gogossos_expedition.0001 = {
    type = character_event
	title = gogossos_expedition_0001_t
	desc = gogossos_expedition_0001_desc

    theme = hunting

    left_portrait = {
		character = root
		animation = fear
	}

    right_portrait = {
		character = scope:monster_1
		animation = rage
	}

    immediate = {
        create_character = {
				gender = male
				random_traits_list = { count = 3 }
				culture = culture:gogossosi
				faith = faith:valyrian 
				trait = beauty_bad_3
				trait = scaly
				trait = hunchbacked
				trait = two_headed

				location = root.location
				save_scope_as = monster_1
			}
    }

    option = {
        name = gogossos_expedition.0001.a
        duel = {
            skill = prowess
            value = high_skill_rating
            target = scope:monster_1

            70 = {
                comapare_modifier = {
                    value = scope:duel_value
                    multiplier = 3.5
                    min = -49
                }
                trigger_event = gogossos_expedition.0002
                scope:monster_1 = {
                    death = {
                        death_reason = death_lost_in_gogossos
                    }
                }
                add_gold = 100
            }

            30 = {
                comapare_modifier = {
                    value = scope:duel_value
                    multiplier = -3.5
                    min = -49
                }
                death = {
                    death_reason = death_lost_in_gogossos
                }
            }
        }
    }

    option = {
        name = gogossos_expedition.0001.b
        add_prestige = -500
        stress_impact = {
            ambitious = medium_stress_impact_gain
            brave = medium_stress_impact_gain
            arrogant = minor_stress_impact_gain
        }
        remove_character_flag = agot_is_at_unknown_place
        hidden_effect = {
            scope:monster_1 = {
                death = { death_reason = death_monster_duel }
            }
        }
    }

}

gogossos_expedition.0002 = {
    type = character_event
    title = gogossos_expedition_0002_t
    desc = gogossos_expedition_0002_desc

    theme = hunting

    left_portrait = {
		character = root
		animation = survey
	}

    immediate = {
		if = {
			limit = {
				NOR = {
					has_variable = pillar_one
					has_variable = pillar_two
					has_variable = pillar_three
				}
			}
			set_variable = {
				name = pillar_one
				value = 0
			}
			set_variable = {
				name = pillar_two
				value = 1
			}
			set_variable = {
				name = pillar_three
				value = 2
			}
		}
    }

	option = {
		name = gogossos_expedition.0002.a
        custom_tooltip = {
            text = gogossos_expedition.0002.a.outcome
            if = {
                limit = {
                    var:pillar_one = 3
                    var:pillar_two = 2
                    var:pillar_three = 1
                }
                remove_variable = pillar_one
                remove_variable = pillar_two
                remove_variable = pillar_three
                random_list = {
                    50 = {
                        trigger_event = gogossos_expedition.0003
                    }
                    50 = {
                        trigger_event = gogossos_expedition.0004
                    }
                }
            }
            else = {
                if = {
                    limit = {
                        has_trait_rank = {
                            trait = wounded
                            rank <= 0
                        }
                    }
                    add_trait = wounded_1
                }
                else_if = {
                    limit = {
                        has_trait_rank = {
                            trait = wounded
                            rank <= 2
                        }
                    }
                    change_trait_rank = {
                        trait = wounded
                        rank = 1
                    }
                }
                else = {
                    death = yes
                }
                trigger_event = gogossos_expedition.0002
            }
        }
    }

    option = {
		name = pillar_mural_one
        custom_tooltip = {
            text = pillar_mural_turn
            if = {
                limit = {
                    var:pillar_one >= 3
                }
                set_variable = {
                    name = pillar_one
                    value = 0
                }
            }
            else = {
                change_variable = {
                    name = pillar_one
                    add = 1
                }
            }
            trigger_event = gogossos_expedition.0002
        }
    }

    option = {
		name = pillar_mural_two
        custom_tooltip = {
            text = pillar_mural_turn
            if = {
                limit = {
                    var:pillar_two >= 3
                }
                set_variable = {
                    name = pillar_two
                    value = 0
                }
            }
            else = {
                change_variable = {
                    name = pillar_two
                    add = 1
                }
            }
            trigger_event = gogossos_expedition.0002
        }
    }

	option = {
		name = pillar_mural_three
        custom_tooltip = {
            text = pillar_mural_turn
            if = {
                limit = {
                    var:pillar_three >= 3
                }
                set_variable = {
                    name = pillar_three
                    value = 0
                }
            }
            else = {
                change_variable = {
                    name = pillar_three
                    add = 1
                }
            }
            trigger_event = gogossos_expedition.0002
        }
    }
}

gogossos_expedition.0003 = {
    type = character_event
	title = gogossos_expedition_0003_t
	desc = gogossos_expedition_0003_desc

    theme = hunting

    left_portrait = {
		character = root
		animation = survey
	}

    option = {
        name = gogossos_expedition.0003.a
        add_gold = 500
        remove_character_flag = agot_is_at_unknown_place
        random_list = {
            15 = {
                agot_create_artifact_vs_valyrian_longsword_silver_effect = { OWNER = root }
            }
            15 = {
                agot_create_artifact_vs_valyrian_longsword_gold_effect = { OWNER = root }
            }
            10 = {
                agot_create_artifact_valyrian_steel_armor_effect = { OWNER = root }
            }
            10 = {
                agot_create_artifact_vs_andal_armingsword_gold_effect = { OWNER = root }
            }
            20 = {
                custom_tooltip = {
                    text = gogossos_expedition.0003.a.outcome.egg
                    random_list = {
                        1 = {
                            create_artifact_dragon_egg_rainbow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_yellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blue_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_purple_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_red_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_brown_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_orange_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_white_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_tan_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_black_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_grey_1_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_grey_2_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_green_1_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_green_2_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_pink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_gold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_whitegold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_purplegold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_flame_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackred_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_brownspots_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_redblackgold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palered_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkblue_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkred_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_frost_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greengrey_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_magma_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkpurple_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palepink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palebluepink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_pinkspot_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_rainbowgold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_sunburst_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_goldpink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_bluebronze_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greenorange_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_bronze_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackgreen_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greygreenyellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackyellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_yellowgreen_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_silver_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackDarkRed_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_iceFire_effect = { OWNER = root }
                        }
                    }
                }
            }
            10 = {
                custom_tooltip = {
                    text = gogossos_expedition.0003.a.outcome.blood
                    zz_gain_blood_magic_scroll = yes
                }
            }
            10 = {
                custom_tooltip = {
                    text = gogossos_expedition.0003.a.outcome.water
                    zz_gain_water_magic_scroll = yes
                }
            }
            10 = {
                custom_tooltip = {
                    text = gogossos_expedition.0003.a.outcome.shadow
                    zz_gain_shadow_magic_scroll = yes
                }
            }
        }
    }
}

gogossos_expedition.0004 = {
    type = character_event
	title = gogossos_expedition_0004_t
	desc = gogossos_expedition_0004_desc

    theme = hunting

    left_portrait = {
		character = root
		camera = camera_slay_dragon_human_event_left
		scripted_animation = duel_wield_weapon
	}

    right_portrait = {
        character = scope:dragon
		animation = dragon_main
		camera = camera_dragon_facing_human

		triggered_outfit = {
			trigger = {
				scope:dragon = { level_ten_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.5  }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_nine_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.5  }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_eight_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.5  }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_seven_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.5 }
		}
		triggered_outfit = { # VHAGAR
			trigger = {
				scope:dragon = { level_six_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.5 }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_five_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_1.0 }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_four_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_0.9 }
		}
		triggered_outfit = { # MELEYS
			trigger = {
				scope:dragon = { level_three_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_0.8 }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_two_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_0.5 }
		}
		triggered_outfit = { # SYRAX
			trigger = {
				scope:dragon = { level_one_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_0.4 }
		}
		triggered_outfit = {
			trigger = {
				scope:dragon = { level_zero_dragon_size_trigger = yes }
			}
			outfit_tags = { dynamic_camera_zoom_0.7 }
		}
		#End Dynamic Camera Zoom
    }

    immediate = {
        create_character = {
            trait = dragon
            age = 45
            template = agot_dragon_template
            random_traits = yes
            trait = dragon_wounded_1 
            save_scope_as = dragon
        }
    }

    option = {
        name = treasure.2
        random_list = {
            90 = {
                duel = {
                    skill = prowess
                    value = high_skill_rating
                    target = scope:dragon

                    30 = {
                        comapare_modifier = {
                                value = scope:duel_value
                                multiplier = 3.5
                                min = -49
                        }
                        scope:dragon = {
                            death = { death_reason = death_monster_duel }
                        }

                        # Hell Yeah
                        add_trait = dragonslayer
                        give_nickname = nick_the_dragonslayer
                        gain_legitimizing_legend_seed_tooltip_effect = yes
                        hidden_effect = { legend_seed_great_deed_dynasty_effect = yes }

                        if = {
                            limit = {
                                is_acclaimed = yes
                            }
                            accolade = {
                                add_glory = major_glory_gain
                            }
                        }

                        create_character_memory = {
                            type = agot_slayed_dragon
                            participants = { slayed_dragon = scope:dragon }
                        }

                        agot_ds_clean_up_effect = yes
                        every_player = {
                            limit = {
                                NOT = { this = root }
                            }
                            trigger_event = {
                                id = agot_dragon_slaying_events.0112
                                days = 1
                            }
                        }
                        
                        trigger_event = gogossos_expedition.00041
                    } 

                    70 = {
                        comapare_modifier = {
                                value = scope:duel_value
                                multiplier = -3.5
                                min = -49
                        }
                        death = {
                            death_reason = death_monster_duel
                        }
                        scope:dragon = {
                            death = { death_reason = death_monster_duel }
                        }
                    }
                }
            }

            10 = {
                add_gold = 1000
                trigger_event = gogossos_expedition.00041
                random_list = {
                    99 = {

                    }
                    1 = {
                        1 = {
			                create_artifact_dragon_egg_rainbow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_yellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blue_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_purple_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_red_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_brown_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_orange_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_white_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_tan_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_black_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_grey_1_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_grey_2_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_green_1_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_green_2_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_pink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_gold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_whitegold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_purplegold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_flame_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackred_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_brownspots_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_redblackgold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palered_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkblue_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkred_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_frost_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greengrey_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_magma_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_darkpurple_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palepink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_palebluepink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_pinkspot_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_rainbowgold_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_sunburst_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_goldpink_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_bluebronze_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greenorange_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_bronze_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackgreen_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_greygreenyellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackyellow_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_yellowgreen_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_silver_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_blackDarkRed_effect = { OWNER = root }
                        }
                        1 = {
                            create_artifact_dragon_egg_iceFire_effect = { OWNER = root }
                        }  
                    }
                }
            }
        }
    }
}

gogossos_expedition.00041 = {
    type = character_event
	title = gogossos_expedition_00041_t
	desc = gogossos_expedition_00041_desc

    theme = hunting

    left_portrait = scope:founder
	animation = survey

    option = {
        name = home.1
        remove_character_flag = agot_is_at_unknown_place
    }
}

gogossos_expedition.00042 = {
    type = character_event
	title = gogossos_expedition_00042_t
	desc = gogossos_expedition_00042_desc

    theme = hunting

    left_portrait = scope:founder
	animation = survey

    option = {
        name = home.2
        remove_character_flag = agot_is_at_unknown_place
        add_gold = 1000
    }
}

gogossos_expedition.0050 = {
    type = character_event
    title = gogossos_expedition.0101_t
    desc = gogossos_expedition.0101_desc

    theme = hunting
    
    left_portrait = scope:founder
	animation = fear

    right_portrait = scope:Monster_3
    animation = page_flipping

    immediate = {
        create_character = {
			gender = male
			random_traits_list = { count = 3 }
			culture = culture:gogossosi
			faith = faith:valyrian 
			trait = dwarf 
            trait = witch

			location = root.location
			save_scope_as = Monster_3
		}
    }

    option = {
        name = bear_1
        add_trait = silly_bear
        remove_character_flag = agot_is_at_unknown_place
    }
}

gogossos_expedition.0102 = {
    type = character_event
	title = gogossos_expedition_00042_t
	desc = gogossos_expedition_00042_desc

    theme = hunting

    left_portrait = scope:founder
	animation = survey

    option = {
        name = home.2
        remove_character_flag = agot_is_at_unknown_place
        add_gold = 1000
    }
}

gogossos_expedition.0060 = {
    type = character_event
    title = gogossos_expedition.0060_t
    desc = gogossos_expedition.0060_desc

    theme = hunting

    left_portrait = scope:root
    animation = survey

    option = {
        add_martial_skill = 1
        remove_character_flag = agot_is_at_unknown_place
    }

    option = {
        add_learning_skill = 1
        remove_character_flag = agot_is_at_unknown_place
    }

    option = {
        add_diplomacy_skill = 1
        remove_character_flag = agot_is_at_unknown_place
    }

    option = {
        add_stewardship_skill = 1
        remove_character_flag = agot_is_at_unknown_place
    }

    option = {
        add_intrigue_skill = 1
        remove_character_flag = agot_is_at_unknown_place
    }

}

gogossos_expedition.0110 = {
    type = character_event
    title = gogossos_expedition.0110_t
    desc = gogossos_expedition.0110_desc

    theme = hunting

    left_portrait = scope:founder
    animation = fear

    right_portrait = scope:
    animation = aggressive_axe

    random_neighboring_top_liege_realm_owner = {
        limit = { government_has_flag = government_is_pirate }
        save_scope_as = pirate_lord
    }
    if = {
        limit = { NOT = { exists = scope:pirate_lord } }
            create_character = {
                gender = male
                random_traits_list = { count = 3 }
                culture = culture:ironborn
                faith = faith:valyrian 
                trait = education_martial_prowess_4
                trait = brave

                location = root.location
			    save_scope_as = pirate_lord
            }
    }
}

gogossos_expedition.1001 = {
    type = character_event
    title = gogossos_expedition.0110_t
    desc = gogossos_expedition.0110_desc

    theme = hunting
    override_background = jungle
}