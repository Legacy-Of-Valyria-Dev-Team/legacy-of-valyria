
namespace = zz_valyria_magic_blood_magic


############################
## Enchanted Blood Spell 
############################
zz_valyria_magic_blood_magic.0001 = {
	hidden = yes

	immediate = {
		random_list = {
			20 = {
				send_interface_toast = {
					title = graceful_aging_message_title
					left_icon = root
					add_diplomacy_skill = 1
				}
			}
			20 = {
				send_interface_toast = {
					title = graceful_aging_message_title
					left_icon = root
					add_martial_skill = 1
				}
			}
			20 = {
				send_interface_toast = {
					title = graceful_aging_message_title
					left_icon = root
					add_intrigue_skill = 1
				}
			}
			20 = {
				send_interface_toast = {
					title = graceful_aging_message_title
					left_icon = root
					add_stewardship_skill = 1
				}
			}
			20 = {
				send_interface_toast = {
					title = graceful_aging_message_title
					left_icon = root
					add_learning_skill = 1
				}
			}
		}
	}
}
zz_valyria_magic_blood_magic.0002 = {
	hidden = yes

	immediate = {
		THIS = { 
			save_scope_as = dragon
		}
		send_interface_toast = {
			title = graceful_aging_message_title
			left_icon = root
			add_prowess_skill = var:zz_valyria_magic_blood_magic_09_mysteries_of_draconic_enhancement  
			change_dragon_size_direct = {
				VALUE = var:zz_valyria_magic_blood_magic_09_mysteries_of_draconic_enhancement
			}
		}
		var:current_rider ?= { 
			save_scope_as = rider 
		}
		scope:rider ?= {
			send_interface_toast = {
				title = graceful_aging_message_title
				left_icon = scope:rider
				right_icon = root
			}
		}
	}
}

## Replication
zz_valyria_magic_blood_magic.0003 = {
	type = character_event
	window = dragon_character_event
	title = zz_valyria_magic_blood_magic.0003.t
	desc = zz_valyria_magic_blood_magic.0003.desc
	theme = dragon
	left_portrait = root
	right_portrait = {
		character = scope:character_clone
	}


	#NAMING WIDGET
	widget = {
		gui = "event_window_widget_name_child"
		container = "dynamic_birth_name"
		controller = name_character
		setup_scope = { scope:character_clone = { save_scope_as = name_character_target } }
	}

	option = {
		name = zz_valyria_magic_blood_magic.0003.opt.a
	}
}

### zz_blood_magic_spells_option

namespace = zz_valyria_magic_blood_magic_spells

zz_valyria_magic_blood_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.001.t
	desc = zz_valyria_magic_blood_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.001.opt.a
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_01_mysteries_of_restoration
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.001.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.002 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_blood_magic_spells.002.t
	desc = zz_valyria_magic_blood_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.a
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = intellect_good_3 }
			}
			NOT = {
				has_trait = dragon
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:add_intelligence 
			days = 1
		}

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.b
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = physique_good_3 }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:add_strength
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.c
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = beauty_good_3 }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:add_beauty
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.d
		trigger = { 
			scope:recipient = {
				has_trait = infertile
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:remove_infertile
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.e
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = intellect_bad_3 }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:remove_intelligence 
			days = 1
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.f
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = physique_bad_3 }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:remove_strength
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.g
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = beauty_bad_3 }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:remove_beauty
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.h
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = infertile }
				NOT = {
					has_trait = dragon
				}
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells002 
			value = flag:add_infertile
			days = 1
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.002.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.003 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.003.t
	desc = zz_valyria_magic_blood_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_maa_regiment = {
				limit = {
					maa_current_troops_count < maa_max_troops_count
				}
				root = {
					add_to_variable_list = {
						name = possible_regiments
						target = prev
					}
				}
			}
		}

	}
	widget = {
		is_shown = {
			root = {
				any_in_list = {
					variable = possible_regiments
					count > 0
				}
			}
		}
		gui = "event_window_maa_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.003.opt.a
		trigger = {
			scope:recipient = {
				any_maa_regiment = {
					maa_current_troops_count < maa_max_troops_count
				}
			}

		}
		var:selected_regiment = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_03_mysteries_of_regeneration
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.003.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.004.t
	desc = zz_valyria_magic_blood_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = {
		character = scope:recipient
	}

	immediate = {
		scope:recipient = {
			every_army = {
				root = {
					add_to_variable_list = {
						name = possible_armies
						target = prev
					}
				}
			}
		}

	}
	widget = {
		is_shown = {
			scope:recipient = {
				has_raised_armies = yes
			}
		}
		gui = "event_window_army_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.004.opt.a
		trigger = {
			scope:recipient = {
				has_raised_armies = yes
			}
		}
		var:selected_army = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_04_mysteries_of_renewal
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.003.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.005 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.005.t
	desc = zz_valyria_magic_blood_magic_spells.005.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		every_character_artifact = {
			limit = {
				has_variable = dragon_egg
				NOT = { has_variable = cradled_egg }
				#NOT = { has_variable = dud_egg }
				NOT = { has_variable = pitted_egg }
			}
			root = {
				add_to_variable_list = {
					name = possible_artifacts
					target = prev
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_artifact_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.005.opt.a
		trigger = {
			scope:recipient = {
				NOT = {
					has_trait = dragon
				}
			}
		}
		var:selected_artifact = { 
			save_scope_as = target
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells005
			value = flag:make_clone_adult
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 90
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_05_mysteries_of_replication
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.005.opt.b
		trigger = {
			scope:recipient = {
				NOT = {
					has_trait = dragon
				}
			}
		}
		var:selected_artifact = { 
			save_scope_as = target
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells005
			value = flag:make_clone_child
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 90
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_05_mysteries_of_replication
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.005.opt.c
		trigger = {
			scope:recipient = {
				NOT = {
					has_trait = dragon
				}
			}
		}
		var:selected_artifact = { 
			save_scope_as = target
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells005
			value = flag:make_clone_genderswap
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 90
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_05_mysteries_of_replication
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.005.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.006 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.006.t
	desc = zz_valyria_magic_blood_magic_spells.006.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_character_artifact = {
				limit = {
					has_variable = dragon_egg
					has_variable = dud_egg 
					NOT = { has_variable = cradled_egg }
					NOT = { has_variable = pitted_egg }
				}
				root = {
					add_to_variable_list = {
						name = possible_artifacts
						target = prev
					}
				}
			}
		}

	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_artifact_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.006.opt.a
		trigger = {
			scope:recipient = {
				any_character_artifact = {
					has_variable = dragon_egg
					has_variable = dud_egg 
					NOT = { has_variable = cradled_egg }
					NOT = { has_variable = pitted_egg }
				}
			}
		}
		var:selected_artifact = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 90
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_06_mysteries_of_draconic_rejuvenation
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.006.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.007 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.007.t
	desc = zz_valyria_magic_blood_magic_spells.007.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.007.opt.a
		trigger = {
			scope:recipient = {
				NOT = {
					has_trait = dragon
				}
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_07_mysteries_of_enchanted_blood
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.001.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.008 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.008.t
	desc = zz_valyria_magic_blood_magic_spells.008.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.008.opt.a
		trigger = {
			scope:recipient = {
				has_trait = dragon
				is_female = yes
				NOT = { 
					has_character_flag = zz_valyria_magic_blood_magic_08_mysteries_of_dragon_laying_effect_flag
				}
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 90
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_08_mysteries_of_dragon_laying_effect
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.008.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.009 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.009.t
	desc = zz_valyria_magic_blood_magic_spells.009.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.009.opt.a
		trigger = {
			scope:recipient = {
				has_trait = dragon
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_09_mysteries_of_draconic_enhancement
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.009.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.010 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.010.t
	desc = zz_valyria_magic_blood_magic_spells.010.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.010.opt.a
		trigger = {
			scope:recipient = {
				NOT = {
					agot_is_dragonblood_character = yes
				}
				NOT = {
					has_trait = dragon
				}
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 35
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_10_mysteries_of_draconic_blood
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.010.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.011 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.011.t
	desc = zz_valyria_magic_blood_magic_spells.011.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.011.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_11_mysteries_of_longevity
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.011.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.012 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.012.t
	desc = zz_valyria_magic_blood_magic_spells.012.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.012.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_12_mysteries_of_vitality
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.012.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.013 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.013.t
	desc = zz_valyria_magic_blood_magic_spells.013.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.013.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_13_mysteries_of_resilience
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.013.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.014 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.014.t
	desc = zz_valyria_magic_blood_magic_spells.014.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.014.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_14_mysteries_of_fortitude
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.014.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.015 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.015.t
	desc = zz_valyria_magic_blood_magic_spells.015.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.015.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_15_mysteries_of_fertility
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.015.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.016 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.016.t
	desc = zz_valyria_magic_blood_magic_spells.016.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient
	immediate = {
		scope:recipient = {
			every_army = {
				root = {
					add_to_variable_list = {
						name = possible_armies
						target = prev
					}
				}
			}
		}

	}
	widget = {
		is_shown = {
			scope:recipient = {
				has_raised_armies = yes
			}
		}
		gui = "event_window_army_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.016.opt.a
		trigger = {
			scope:recipient = {
				has_raised_armies = yes
			}
		}
		var:selected_army = {
			save_scope_as = target 
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 20
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_16_mysteries_of_blood_control
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.016.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.017 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.017.t
	desc = zz_valyria_magic_blood_magic_spells.017.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.017.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells017
			value = flag:weaken_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_17_mysteries_of_vital_consumption
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.017.opt.a
		trigger = {
			scope:recipient = {
				
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells017
			value = flag:max_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_17_mysteries_of_vital_consumption
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.017.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.018 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_blood_magic_spells.018.t
	desc = zz_valyria_magic_blood_magic_spells.018.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.a
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_physique_good_3 }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_physique_good_3 
			days = 1
		}

		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.b
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_majestic }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_majestic
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.c
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_swift }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_swift
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.d
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_physique_bad_3 }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_physique_bad_3 
			days = 1
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.e
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_slow }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_slow
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.f
		trigger = { 
			scope:recipient = {
				NOT = { has_trait = dragon_ugly }
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:dragon_ugly
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.g
		trigger = { 
			scope:recipient = {
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:toggle_fertile
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.h
		trigger = { 
			scope:recipient = {
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells018 
			value = flag:toggle_spindly
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_18_mysteries_of_draconic_genetics
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.018.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.019 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.019.t
	desc = zz_valyria_magic_blood_magic_spells.019.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.019.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells019 
			value = flag:force_male
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 35
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_19_mysteries_of_sex_selection
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.019.opt.b
		trigger = {
			scope:recipient = {
			}
		}
		set_variable = { 
			name = zz_valyria_magic_blood_magic_spells019 
			value = flag:force_female
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 35
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_19_mysteries_of_sex_selection
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.015.opt.z
	}
}
zz_valyria_magic_blood_magic_spells.020 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.020.t
	desc = zz_valyria_magic_blood_magic_spells.020.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.020.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_20_mysteries_of_maternal_protection
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.020.opt.z
	}
}

zz_valyria_magic_blood_magic_spells.021 = {
	type = character_event
	title = zz_valyria_magic_blood_magic_spells.021.t
	desc = zz_valyria_magic_blood_magic_spells.021.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_blood_magic_spells.021.opt.a
		trigger = {
			scope:recipient = {
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = blood_magic
			SPELL = zz_valyria_magic_blood_magic_21_mysteries_of_babe_protection
		}
	}
	option = {
		name = zz_valyria_magic_blood_magic_spells.021.opt.z
	}
}

namespace = zz_valyria_magic_shadow_magic_spells

zz_valyria_magic_shadow_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.001.t
	desc = zz_valyria_magic_shadow_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.001.opt.a
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL = zz_valyria_magic_shadow_magic_01_mysteries_of_shadowy_steeds
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.001.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.002 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.002.t
	desc = zz_valyria_magic_shadow_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.002.opt.a
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL = zz_valyria_magic_shadow_magic_02_mysteries_of_shadowy_daggers
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.002.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.003 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.003.t
	desc = zz_valyria_magic_shadow_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.003.opt.a
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL = zz_valyria_magic_shadow_magic_03_mysteries_of_the_shadow_shield
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.003.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.004.t
	desc = zz_valyria_magic_shadow_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.004.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL  = zz_valyria_magic_shadow_magic_04_mysteries_of_the_shadowy_cloak
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.004.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.005 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.005.t
	desc = zz_valyria_magic_shadow_magic_spells.005.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.005.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL  = zz_valyria_magic_shadow_magic_05_mysteries_cloying_shadow
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.005.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.006 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.006.t
	desc = zz_valyria_magic_shadow_magic_spells.006.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.006.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL  = zz_valyria_magic_shadow_magic_06_mysteries_of_feeble_daggers
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.006.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.007 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.007.t
	desc = zz_valyria_magic_shadow_magic_spells.007.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.007.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL  = zz_valyria_magic_shadow_magic_07_mysteries_of_the_weakened_vigilience
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.007.opt.z
	}
}
zz_valyria_magic_shadow_magic_spells.008 = {
	type = character_event
	title = zz_valyria_magic_shadow_magic_spells.008.t
	desc = zz_valyria_magic_shadow_magic_spells.008.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_shadow_magic_spells.008.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = shadow_magic
			SPELL  = zz_valyria_magic_shadow_magic_08_mysteries_of_the_revealed_shadows
		}
	}
	option = {
		name = zz_valyria_magic_shadow_magic_spells.008.opt.z
	}
}
namespace = zz_valyria_magic_dream_magic_spells 

zz_valyria_magic_dream_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.001.t
	desc = zz_valyria_magic_dream_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.001.opt.a
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL = zz_valyria_magic_dream_magic_01_mysteries_mental_domination
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.001.opt.b
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells001
			value = flag:religion_change
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL = zz_valyria_magic_dream_magic_01_mysteries_mental_domination
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.001.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.002 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_dream_magic_spells.002.t
	desc = zz_valyria_magic_dream_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.a
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:blademaster
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.b
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:mystic
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.c
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:reveler
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.d
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:hunter
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.e
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:physician
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.f
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:herbalist
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.g
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:gardener
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.h
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells002
			value = flag:knight_errant
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.002.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.003 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_dream_magic_spells.003.t
	desc = zz_valyria_magic_dream_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.a
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:learning
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.b
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:diplomacy
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.c
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:stewardship
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.d
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:intrigue
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.e
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:martial
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.f
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:leadership
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.g
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells003
			value = flag:prowess
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_03_mysteries_of_dreams
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.003.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.004.t
	desc = zz_valyria_magic_dream_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_04_mysteries_of_secrets
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.005 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_dream_magic_spells.005.t
	desc = zz_valyria_magic_dream_magic_spells.005.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.a
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:diligent
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.b
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:lazy
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.c
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:lustful
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.d
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:chaste
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.e
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:gluttonous
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.f
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:temperate
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.g
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:greedy
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.h
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:generous
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.i
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:wrathful
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.j
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:calm
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.k
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:patient
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.l
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:impatient
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.m
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:arrogant
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.n
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:humble
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.o
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:deceitful
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.p
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:honest
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.q
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:craven
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.r
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:brave
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.s
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:shy
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.t
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:gregarious
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.u
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:ambitious
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.v
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:content
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.w
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:arbitrary
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.x
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:just
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.y
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:cynical
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.aa
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:zealous
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ab
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:paranoid
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ac
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:trusting
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ad
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:compassionate
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ae
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:callous
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.af
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:sadistic
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ag
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:stubborn
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ah
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:fickle
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ai
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:eccentric
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.aj
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:vengeful
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.ak
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:forgiving
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.al
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:authoritative
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.am
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:rude
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.an
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells005
			value = flag:inquisitive
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_05_mysteries_of_personality_distortion
		}
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.005.opt.z
	}
}

zz_valyria_magic_dream_magic_spells.006 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.006.t
	desc = zz_valyria_magic_dream_magic_spells.006.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.a
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells006
			value = flag:learning
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_06_mysteries_of_education_reformation
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.b
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells006
			value = flag:stewardship
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_06_mysteries_of_education_reformation
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.c
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells006
			value = flag:diplomacy
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_06_mysteries_of_education_reformation
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.d
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells006
			value = flag:intrigue
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_06_mysteries_of_education_reformation
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.e
		set_variable = { 
			name = zz_valyria_magic_dream_magic_spells006
			value = flag:martial
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 10
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_06_mysteries_of_education_reformation
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.006.opt.z
	}
}

zz_valyria_magic_dream_magic_spells.007 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.004.t
	desc = zz_valyria_magic_dream_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_04_mysteries_of_secrets
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.008 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.004.t
	desc = zz_valyria_magic_dream_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_04_mysteries_of_secrets
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.009 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.009.t
	desc = zz_valyria_magic_dream_magic_spells.009.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.009.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_04_mysteries_of_secrets
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.009.opt.z
	}
}
zz_valyria_magic_dream_magic_spells.010 = {
	type = character_event
	title = zz_valyria_magic_dream_magic_spells.004.t
	desc = zz_valyria_magic_dream_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.a

		zz_valyria_magic_cast_effect = { 
			MANACOST = 60
			SKILL = dream_magic
			SPELL  = zz_valyria_magic_dream_magic_04_mysteries_of_secrets
		}	
	}
	option = {
		name = zz_valyria_magic_dream_magic_spells.004.opt.z
	}
}

namespace = zz_valyria_magic_alchemy_magic_spells 

zz_valyria_magic_alchemy_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_alchemy_magic_spells.001.t
	desc = zz_valyria_magic_alchemy_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_realm_province = {
				root = {
					add_to_variable_list = {
						name = possible_provinces
						target = prev
					}
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_province_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.001.opt.a
		var:selected_province = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_01_mysteries_of_growth
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.001.opt.z
	}
}

zz_valyria_magic_alchemy_magic_spells.002 = {
	type = character_event
	title = zz_valyria_magic_alchemy_magic_spells.002.t
	desc = zz_valyria_magic_alchemy_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_realm_province = {
				root = {
					add_to_variable_list = {
						name = possible_provinces
						target = prev
					}
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_province_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.002.opt.a
		var:selected_province = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_02_mysteries_of_construction
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.002.opt.z
	}
}

zz_valyria_magic_alchemy_magic_spells.003 = {
	type = character_event
	title = zz_valyria_magic_alchemy_magic_spells.003.t
	desc = zz_valyria_magic_alchemy_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_alchemy_magic_spells.003.opt.a
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells003
			value = flag:gold
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.003.opt.b
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells003
			value = flag:renown
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.003.opt.c
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells003
			value = flag:prestige
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.003.opt.d
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells003
			value = flag:piety
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 1
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.003.opt.z
	}
}
zz_valyria_magic_alchemy_magic_spells.004 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_alchemy_magic_spells.004.t
	desc = zz_valyria_magic_alchemy_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.a
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:knight_add
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.b
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:knight_bonus
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.c
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:maa_add
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.d
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:maa_size
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.e
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:title_maa_add
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.f
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells004
			value = flag:title_maa_size
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.z
	}
}
zz_valyria_magic_alchemy_magic_spells.005 = {
	type = character_event
	window = zz_valyria_magic_character_event
	title = zz_valyria_magic_alchemy_magic_spells.005.t
	desc = zz_valyria_magic_alchemy_magic_spells.005.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_alchemy_magic_spells.005.opt.a
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells005
			value = flag:domain_limit
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_05_mysteries_of_realm_fortification
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.005.opt.b
		set_variable = { 
			name = zz_valyria_magic_alchemy_magic_spells005
			value = flag:vassal_limit
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 50
			SKILL = alchemy_magic
			SPELL  = zz_valyria_magic_alchemy_magic_05_mysteries_of_realm_fortification
		}
	}
	option = {
		name = zz_valyria_magic_alchemy_magic_spells.004.opt.z
	}
}



namespace = zz_valyria_magic_fire_magic_spells 

zz_valyria_magic_fire_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_fire_magic_spells.001.t
	desc = zz_valyria_magic_fire_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_fire_magic_spells.001.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		set_variable = { 
			name = zz_valyria_magic_fire_magic_spells001
			value = flag:weaken_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 2
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_01_mysteries_of_striking_flame
		}
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.001.opt.b
		trigger = {
			scope:recipient = {
				
			}
		}
		set_variable = { 
			name = zz_valyria_magic_fire_magic_spells001
			value = flag:max_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 2
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_01_mysteries_of_striking_flame
		}
	}

	option = {
		name = zz_valyria_magic_fire_magic_spells.001.opt.z
	}
}

zz_valyria_magic_fire_magic_spells.002 = {
	type = character_event
	title = zz_valyria_magic_fire_magic_spells.002.t
	desc = zz_valyria_magic_fire_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_army = {
				root = {
					add_to_variable_list = {
						name = possible_armies
						target = prev
					}
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_army_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.002.opt.a
		var:selected_army = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 3
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_02_mysteries_of_the_blasting_flame
		}
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.002.opt.z
	}
}

zz_valyria_magic_fire_magic_spells.003 = {
	type = character_event
	title = zz_valyria_magic_fire_magic_spells.003.t
	desc = zz_valyria_magic_fire_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_army = {
				root = {
					add_to_variable_list = {
						name = possible_armies
						target = prev
					}
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_army_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.003.opt.a
		var:selected_army = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 15
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_02_mysteries_of_the_blasting_flame
		}
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.003.opt.z
	}
}
zz_valyria_magic_fire_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_fire_magic_spells.004.t
	desc = zz_valyria_magic_fire_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_fire_magic_spells.004.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 2
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_04_mysteries_of_flaming_purification
		}
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.004.opt.z
	}
}
zz_valyria_magic_fire_magic_spells.005 = {
	type = character_event
	title = zz_valyria_magic_fire_magic_spells.005.t
	desc = zz_valyria_magic_fire_magic_spells.005.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_fire_magic_spells.005.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_05_mysteries_of_flaming_blades
		}
	}
	option = {
		name = zz_valyria_magic_fire_magic_spells.005.opt.z
	}
}

namespace = zz_valyria_magic_air_magic_spells 

zz_valyria_magic_air_magic_spells.001 = {
	type = character_event
	title = zz_valyria_magic_air_magic_spells.001.t
	desc = zz_valyria_magic_air_magic_spells.001.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_air_magic_spells.001.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		set_variable = { 
			name = zz_valyria_magic_air_magic_spells001
			value = flag:weaken_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 2
			SKILL = fire_magic
			SPELL  = zz_valyria_magic_fire_magic_01_mysteries_of_striking_flame
		}
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.001.opt.b
		trigger = {
			scope:recipient = {
				
			}
		}
		set_variable = { 
			name = zz_valyria_magic_air_magic_spells001
			value = flag:max_power
			days = 1
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 2
			SKILL = air_magic
			SPELL  = zz_valyria_magic_air_magic_01_mysteries_of_the_slicing_wind
		}
	}

	option = {
		name = zz_valyria_magic_air_magic_spells.001.opt.z
	}
}

zz_valyria_magic_air_magic_spells.002 = {
	type = character_event
	title = zz_valyria_magic_air_magic_spells.002.t
	desc = zz_valyria_magic_air_magic_spells.002.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_maa_regiment = {
				limit = {
					maa_current_troops_count < 0
				}
				root = {
					add_to_variable_list = {
						name = possible_regiments
						target = prev
					}
				}
			}
		}

	}
	widget = {
		is_shown = {
			root = {
				any_in_list = {
					variable = possible_regiments
					count > 0
				}
			}
		}
		gui = "event_window_maa_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.002.opt.a
		trigger = {
			scope:recipient = {
				any_maa_regiment = {
					maa_current_troops_count < 0
				}
			}

		}
		var:selected_regiment = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 3
			SKILL = air_magic
			SPELL  = zz_valyria_magic_air_magic_02_mysteries_of_the_tempestuous_winds
		}	
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.002.opt.z
	}
}

zz_valyria_magic_air_magic_spells.003 = {
	type = character_event
	title = zz_valyria_magic_air_magic_spells.003.t
	desc = zz_valyria_magic_air_magic_spells.003.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	option = {
		name = zz_valyria_magic_air_magic_spells.003.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 5
			SKILL = air_magic
			SPELL  = zz_valyria_magic_air_magic_03_mysteries_of_the_wall_of_the_wind
		}
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.003.opt.z
	}
}

zz_valyria_magic_air_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_air_magic_spells.004.t
	desc = zz_valyria_magic_air_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		scope:recipient = {
			every_realm_province = {
				root = {
					add_to_variable_list = {
						name = possible_provinces
						target = prev
					}
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_province_selection"
		container = "custom_widgets_container"
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.004.opt.a
		var:selected_province = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 25
			SKILL = air_magic
			SPELL  = zz_valyria_magic_air_magic_04_mysteries_of_the_hurricane
		}	
	}
	option = {
		name = zz_valyria_magic_air_magic_spells.004.opt.z
	}
}

namespace = zz_valyria_magic_water_magic_spells 


zz_valyria_magic_water_magic_spells.004 = {
	type = character_event
	title = zz_valyria_magic_water_magic_spells.004.t
	desc = zz_valyria_magic_water_magic_spells.004.desc
	theme = dragon
	left_portrait = root
	right_portrait = scope:recipient

	immediate = {
		every_epidemic_type = {
			root = {
				add_to_variable_list = {
					name = possible_epidemics
					target = prev
				}
			}
		}
	}

	widget = {
		is_shown = {
			is_ai = no
		}
		gui = "event_window_epidemic_selection"
		container = "custom_widgets_container"
	}

	option = {
		name = zz_valyria_magic_water_magic_spells.004.opt.a
		trigger = {
			scope:recipient = {			
			}
		}
		var:selected_epidemic = { 
			save_scope_as = target
		}
		zz_valyria_magic_cast_effect = { 
			MANACOST = 100
			SKILL = water_magic
			SPELL  = zz_valyria_magic_water_magic_04_mysteries_of_rhoyne
		}
	}
	option = {
		name = zz_valyria_magic_water_magic_spells.004.opt.z
	}
}