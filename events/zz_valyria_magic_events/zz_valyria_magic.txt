
namespace = zz_valyria_magic

#You read a book of magic. 
zz_valyria_magic.9000 = {
	type = character_event
	title = zz_valyria_magic.9000.t
	desc = zz_valyria_magic.9000.desc
	theme = university
	left_portrait = root


	immediate = {
	}

	trigger = {
		is_ai = no 
		NOT = { 
			has_character_flag = no_magic
		}
	}

	option = {
		name = zz_valyria_magic.9000.a
		trigger = {
			NOT = {
				has_trait = zz_magister
			}
		}
		custom_tooltip = {
			text = zz_valyira_magic_youre_a_wizard_harry
			add_trait_force_tooltip = zz_nagister
			zz_random_gain_magic_spell = yes 
		}
	}
	option = {
		name = zz_valyria_magic.9000.b
		trigger = {
			has_trait = zz_magister
		}
		custom_tooltip = {
			text = zz_valyira_magic_youre_a_wizard_harry
			zz_valyria_gain_spell_experience = {
				XPGAIN = 5
				XPTRACK = secrets_of_the_higher_mysteries
			}
			zz_random_gain_magic_spell = yes 
		}
	}
	option = {
		name = zz_valyria_magic.9000.z
		trigger = {
			NOT = {
				has_trait = zz_magister
			}
		}
		custom_tooltip = {
			text = burn_you_witch
			add_character_flag = no_magic
		}
	}
}


zz_valyria_magic.1 = {
	hidden = yes
	scope = none
	trigger = {
	}
	immediate = {
		every_ruler = {
			limit = {
				has_trait = zz_magister
			}
			send_interface_toast = {
				if = { 
					limit = { 
						has_trait = born_under_a_red_comet
					}
					add_trait_xp = {
						trait = born_under_a_red_comet
						track = chosen_of_the_heavens
						value = 100
					}
				}
				zz_random_gain_magic_spell = yes 
		
				#dragon training
				#add_character_flag = dragon_training
		
				#charm magic 
				#add_character_flag = zz_valyria_magic_dream_magic_01_mysteries_mental_domination_flag
				#shadow magic
				
				#blood magic
				#add_character_flag = zz_valyria_magic_blood_magic_02_mysteries_of_transmogrification_flag
				#add_character_flag = zz_valyria_blood_magic_01_mysteries_of_restoration_flag
				
				#Alchemical Magic
				#add_character_flag = zz_valyria_magic_alchemy_magic_04_mysteries_of_arms_flag
				#add_character_flag = zz_valyria_magic_alchemy_magic_02_mysteries_of_construction_flag
				#add_character_flag = zz_valyria_magic_alchemy_magic_01_mysteries_of_growth_flag
				#add_character_flag = zz_valyria_magic_alchemy_magic_03_mysteries_of_transmutation_flag
				
				#Divination Magic
				#add_character_flag = zz_valyria_magic_dream_magic_02_mysteries_of_dreaming_destinies_flag
				#add_character_flag = zz_valyria_magic_dream_magic_04_mysteries_of_secrets_flag
				#add_character_flag = zz_valyria_magic_dream_magic_03_mysteries_of_dreams_flag
		
				#flame magic 
				#add_character_flag = zz_valyria_magic_fire_magic_01_mysteries_of_striking_flame_flag
			}
		}
	}
}
